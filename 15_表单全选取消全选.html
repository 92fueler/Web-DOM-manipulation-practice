

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <style> 
            table {
                width: 200px;
                margin: 100px 100px;
            }
            thead {
                background-color: rgb(21, 69, 88);
                font-size: 14px;
                color: #fff;
            }

            #checkBody {
                text-align: center;
            }

        </style>
    </head>
        <body>
            <div class="wrap"> 
                <table>
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="checkAll" /></th>
                            <th><label for="checkAll">商品</label></th>
                            <th>价钱</th>
                        </tr>
                    </thead>

                    <tbody id="checkBody">
                        <tr>
                            <td style="text-align: center;"><input type="checkbox" id="iPhone"/></td>
                            <td style="text-align: center;"><label for="iPhone">iPhone</label></td>
                            <td>9000</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="Redmi" /></td>
                            <td><label for="Redmi">Redmi</label></td>
                            <td>5000</td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" id="Huawei" /></td>
                            <td><label for="Huawei">Huawei</label></td>
                            <td>7000</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <script>
                //１．全选和取消全选的做法：让下面所有复选框的checkbed属性（选中状态），跟随全选按钮即可
                // 获取元素
                var checkAll = document.getElementById('checkAll');
                var checkBody = document.getElementById('checkBody').getElementsByTagName('input');
                // 注册事件
                checkAll.onclick = function() {
                    for (var i = 0; i < checkBody.length; i++) {
                        checkBody[i].checked = this.checked;
                    }
                }

                // 2. 下面复选框需要全部选中，上面全选才能选中做法：给下面所有复选框绑定点击事件，每次点击，都要循环
                for (var i = 0; i < checkBody.length; i++) {
                    checkBody[i].onclick = function() {
                        // flag 控制全选按钮是否选中
                        var flag = true;

                        // 每次点击线面的复选框都要循环检查4个小按钮是否全部选中
                        for (var i = 0; i < checkBody.length; i++) {
                            if (!checkBody[i].checked) {
                                flag = false;
                                break; // 退出for循环，这样可提高效率，因为只要有一个没选择，剩下的无需再循环
                            }
                        }
                        checkAll.checked = flag;
                    }
                }
            </script>
        </body>
    </head>
</html>